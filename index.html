<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Valentine</title>

  <!-- ============================= -->
  <!-- ğŸ’—ğŸ’— ì—¬ê¸°ë§Œ ìˆ˜ì •í•˜ì„¸ìš” ğŸ’—ğŸ’— -->
  <!-- ============================= -->
  <script>
    const MAIN_TITLE   = "ìš”ë‹ˆì™€ í•¨ê»˜ ìƒí•´ë¡œ ìƒí•´ ì—¬í–‰ ê°ˆ ì‚¬ëŒ? âœˆï¸";
    const HINT_TEXT    = "YES ëˆ„ë¥´ë©´ ì¼ì • í”½ìŠ¤ê°€ ë©ë‹ˆë‹¤ ğŸ˜";
    const SUCCESS_TEXT = "ì¶•í•˜ë“œë¦½ë‹ˆë‹¤! ìƒí•´ì—ì„œ ë§›ìˆëŠ” ê±° ë‹¤ ë¨¹ìêµ¬ìš¥ ğŸ¥Ÿâœ¨";
  </script>
  <!-- ============================= -->
  <!-- â¬†ï¸ ìœ„ 3ì¤„ë§Œ ìˆ˜ì •í•˜ë©´ ë©ë‹ˆë‹¤ â¬†ï¸ -->
  <!-- ============================= -->

  <script defer src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>

  <style>
    :root{
      --bg:#F8D7DA;
      --card:#fff;
      --pink:#E84B7C;
      --pink-dark:#CC2F63;
      --gray:#E9ECEF;
      --text:#111;
      --muted:#9AA0A6;
      --radius:22px;
    }
    *{box-sizing:border-box;}
    html,body{height:100%;margin:0;}
    body{
      background:var(--bg);
      display:grid;
      place-items:center;
      padding:20px;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    }
    .card{
      width:min(560px,92vw);
      background:var(--card);
      border-radius:var(--radius);
      padding:36px;
      box-shadow:0 18px 60px rgba(0,0,0,.12);
      position:relative;
      overflow:hidden;
    }
    .content{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:16px;
      transition:opacity .3s ease;
    }
    .character{
      width:150px;
      height:auto;
    }
    .title{
      margin:0;
      text-align:center;
      font-size:28px;
      font-weight:900;
    }
    .button-zone{
      width:100%;
      position:relative;
      height:100px;
    }
    .btn{
      position:absolute;
      left:50%;
      top:50%;
      transform:translate(-50%,-50%);
      width:96px;
      height:44px;
      border-radius:999px;
      border:0;
      font-weight:800;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      transition:transform .2s ease;
    }
    #yesBtn{background:#E84B7C;color:#fff;}
    #noBtn{background:#E9ECEF;color:#333;}
    .hint{
      font-size:13px;
      color:#9AA0A6;
    }
    .success-message{
      position:absolute;
      inset:0;
      display:grid;
      place-items:center;
      opacity:0;
      transition:opacity .3s ease;
      pointer-events:none;
    }
    .success-message .text{
      font-size:40px;
      font-weight:900;
      color:#E84B7C;
      text-align:center;
    }
    .card.success .content{opacity:.15;}
    .card.success .success-message{opacity:1;}
  </style>
</head>

<body>
  <main class="card" id="card">
    <div class="content">
      <img class="character" src="./character.png" alt="character" />
      <h1 class="title" id="mainTitle"></h1>

      <div class="button-zone" id="zone">
        <button class="btn" id="yesBtn">Yes</button>
        <button class="btn" id="noBtn">No</button>
      </div>

      <p class="hint" id="hintText"></p>
    </div>

    <div class="success-message">
      <div class="text" id="successText"></div>
    </div>
  </main>

<script>
  // í…ìŠ¤íŠ¸ ìë™ ì ìš©
  document.getElementById("mainTitle").innerText = MAIN_TITLE;
  document.getElementById("hintText").innerText = HINT_TEXT;
  document.getElementById("successText").innerText = SUCCESS_TEXT;

  const card = document.getElementById("card");
  const zone = document.getElementById("zone");
  const yesBtn = document.getElementById("yesBtn");
  const noBtn  = document.getElementById("noBtn");

  let success = false;
  let hoverCount = 0;
  let noHasFled = false;

  function positionButtons(){
    const zoneW = zone.clientWidth;
    const zoneH = zone.clientHeight;
    yesBtn.style.left = zoneW/3 + "px";
    yesBtn.style.top  = zoneH/2 + "px";
    if(!noHasFled){
      noBtn.style.left = zoneW*2/3 + "px";
      noBtn.style.top  = zoneH/2 + "px";
    }
  }

  function growYes(){
    const scale = Math.min(2, 1.4 + hoverCount*0.2);
    yesBtn.style.transform = `translate(-50%,-50%) scale(${scale})`;
  }

  function fleeNo(){
    noHasFled = true;
    const zoneW = zone.clientWidth;
    const zoneH = zone.clientHeight;
    const x = Math.random()*zoneW;
    const y = Math.random()*zoneH;
    noBtn.style.left = x + "px";
    noBtn.style.top  = y + "px";
  }

  noBtn.addEventListener("mouseenter",()=>{
    hoverCount++;
    growYes();
    fleeNo();
  });

  yesBtn.addEventListener("click",()=>{
    if(success) return;
    success = true;
    card.classList.add("success");

    // í•˜íŠ¸ 40ê°œ ì§„í•‘í¬
    try{
      const heart = confetti.shapeFromPath({
        path:"M0.5 0.91 C0.22 0.74 0.06 0.56 0.06 0.36 C0.06 0.17 0.20 0.04 0.37 0.04 C0.44 0.04 0.50 0.07 0.55 0.12 C0.60 0.07 0.66 0.04 0.73 0.04 C0.90 0.04 1.04 0.17 1.04 0.36 C1.04 0.56 0.88 0.74 0.60 0.91 L0.55 0.94 Z",
        matrix:[20,0,0,20,0,0]
      });

      confetti({
        particleCount:40,
        spread:120,
        startVelocity:45,
        scalar:1.2,
        origin:{x:0.5,y:0.5},
        shapes:[heart],
        colors:["#E84B7C"]
      });
    }catch(e){}
  });

  window.onload = positionButtons;
  window.onresize = positionButtons;
</script>
</body>
</html>

